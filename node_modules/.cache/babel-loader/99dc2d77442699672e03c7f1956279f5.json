{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Adriana\\\\codenation\\\\react-16\\\\src\\\\routes\\\\ProfileRoute\\\\ProfileRoute.jsx\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport UserProfile from '../../containers/UserProfile';\nimport UserPosts from '../../containers/UserPosts';\nimport Loading from '../../components/Loading';\n\nconst ProfileRoute = ({\n  match\n}) => {\n  const [isLoading, setisLoading] = useState(true);\n  const [posts, setPosts] = useState([]);\n  const [user, setUser] = useState({});\n  const [users, setUsers] = useState([]);\n  const findUserByUsername = useCallback(username => {\n    const result = users.filter(user => user.username === username);\n    return result.length > 0 ? result[0] : {\n      id: \"\",\n      name: `USER NOT FOUND (username = ${username})`,\n      avatar: \"\",\n      username: username,\n      email: \"\"\n    };\n  }, [users.length]); // api call to get users\n\n  useEffect(() => {\n    console.log('fetch');\n    console.log(users);\n    fetch(\"https://5e7d0266a917d70016684219.mockapi.io/api/v1/users\").then(res => res.json()).then(response => {\n      setUsers(response);\n      setisLoading(false);\n    });\n  }, []); // return user by username\n\n  useEffect(() => {\n    console.log('userfound');\n    const userFound = findUserByUsername(match.params.username);\n    setUser(userFound);\n  }, [users.length, match, findUserByUsername]); // api call to get posts\n\n  useEffect(() => {\n    if (user.id) {\n      fetch(`https://5e7d0266a917d70016684219.mockapi.io/api/v1/users/${user.id}/posts`).then(res => res.json()).then(response => {\n        setPosts(response);\n        setisLoading(false);\n      });\n    }\n  }, [user.id]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": \"profile-route\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }), !isLoading && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(UserProfile, Object.assign({}, user, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(UserPosts, {\n    posts: posts,\n    userInfo: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default ProfileRoute;","map":{"version":3,"sources":["C:/Users/Adriana/codenation/react-16/src/routes/ProfileRoute/ProfileRoute.jsx"],"names":["React","useState","useEffect","useCallback","UserProfile","UserPosts","Loading","ProfileRoute","match","isLoading","setisLoading","posts","setPosts","user","setUser","users","setUsers","findUserByUsername","username","result","filter","length","id","name","avatar","email","console","log","fetch","then","res","json","response","userFound","params"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\n\nimport UserProfile from '../../containers/UserProfile';\nimport UserPosts from '../../containers/UserPosts';\n\nimport Loading from '../../components/Loading';\n\nconst ProfileRoute = ({match}) => {\n  const [isLoading, setisLoading] = useState(true);\n  const [posts, setPosts] = useState([]);\n  const [user, setUser] = useState({});\n  const [users, setUsers] = useState([]);  \n\n\n  const findUserByUsername = useCallback(\n    (username) => {\n      const result = users.filter((user) => user.username === username);\n      return result.length > 0 ? result[0] : {\n        id: \"\", \n        name: `USER NOT FOUND (username = ${username})`,\n        avatar: \"\",\n        username: username,\n        email: \"\"\n      };\n    },\n    [users.length]\n  )\n\n  // api call to get users\n  useEffect(() => {\n    console.log('fetch')\n    console.log(users)\n    fetch(\"https://5e7d0266a917d70016684219.mockapi.io/api/v1/users\")\n    .then(res => res.json())\n    .then(response => {\n      setUsers(response);\n      setisLoading(false); \n    });\n  }, []);\n\n  // return user by username\n  useEffect(() => {\n    console.log('userfound')\n    const userFound = findUserByUsername(match.params.username);\n    setUser(userFound);\n  }, [users.length, match, findUserByUsername])\n\n   // api call to get posts\n   useEffect(() => {\n    if(user.id){\n      fetch(`https://5e7d0266a917d70016684219.mockapi.io/api/v1/users/${user.id}/posts`)\n      .then(res => res.json())\n      .then(response => {\n        setPosts(response);\n        setisLoading(false);\n      })\n    }\n  }, [user.id]);\n\n  return (\n    <div data-testid=\"profile-route\">\n      {isLoading && <Loading />}\n      {!isLoading && (\n        <React.Fragment>\n          <UserProfile {...user} />\n          <UserPosts posts={posts} userInfo={user} />\n        </React.Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileRoute;\n"]},"metadata":{},"sourceType":"module"}